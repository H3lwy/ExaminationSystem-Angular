<div class="reset-wrapper">
    <div class="reset-container">
        <div class="form-header">
            <h1><i class="fas fa-key"></i> Reset Password</h1>
            <p class="subtitle">Enter your new password below</p>
        </div>

        <!-- Success Message -->
        <div class="message success" *ngIf="successMessage">
            <i class="fas fa-check-circle"></i>
            <p>{{ successMessage }}</p>
        </div>

        <!-- Error Message -->
        <div class="message error" *ngIf="errorMessage">
            <i class="fas fa-exclamation-circle"></i>
            <p>{{ errorMessage }}</p>
        </div>

        <form (ngSubmit)="onSubmit()" #resetForm="ngForm" *ngIf="!successMessage">
            <div class="form-group">
                <label for="newPassword">New Password</label>
                <div class="input-container">
                    <i class="fas fa-lock"></i>
                    <input
                        type="password"
                        id="newPassword"
                        name="newPassword"
                        [(ngModel)]="resetData.newPassword"
                        required
                        minlength="6"
                        placeholder="Enter new password"
                    >
                </div>
            </div>

            <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <div class="input-container">
                    <i class="fas fa-lock"></i>
                    <input
                        type="password"
                        id="confirmPassword"
                        name="confirmPassword"
                        [(ngModel)]="resetData.confirmPassword"
                        required
                        placeholder="Confirm new password"
                    >
                </div>
            </div>

            <div class="password-requirements">
                <p class="requirement-title">Password must:</p>
                <ul>
                    <li [class.met]="resetData.newPassword.length >= 6">
                        <i class="fas" [class.fa-check]="resetData.newPassword.length >= 6" [class.fa-times]="resetData.newPassword.length < 6"></i>
                        Be at least 6 characters long
                    </li>
                    <li [class.met]="resetData.newPassword === resetData.confirmPassword && resetData.newPassword">
                        <i class="fas" [class.fa-check]="resetData.newPassword === resetData.confirmPassword && resetData.newPassword" [class.fa-times]="resetData.newPassword !== resetData.confirmPassword"></i>
                        Passwords match
                    </li>
                </ul>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-primary" 
                        [disabled]="!resetForm.valid || resetData.newPassword !== resetData.confirmPassword">
                    <i class="fas fa-save"></i>
                    Reset Password
                </button>
                <button type="button" class="btn-secondary" routerLink="/login">
                    <i class="fas fa-arrow-left"></i>
                    Back to Login
                </button>
            </div>
        </form>
    </div>
</div>